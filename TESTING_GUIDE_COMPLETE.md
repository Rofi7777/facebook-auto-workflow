# Googa AI Hub - 全面测试指南

## 📋 测试概述

本文档提供全面的功能测试指南，确保所有功能在新架构下正常工作。

## 🧪 测试环境准备

### 1. 本地开发环境
```bash
# 启动开发服务器
npm start
# 或
node api/index.js
```

### 2. 浏览器要求
- Chrome/Edge (推荐)
- Firefox
- Safari
- 打开开发者工具 (F12)

### 3. 测试账户
- 准备一个测试账户用于登录测试
- 确保账户有适当的权限

## 📝 测试清单

### ✅ 基础功能测试

#### 1. 页面加载和导航
- [ ] 页面正常加载，无404错误
- [ ] 所有CSS文件正确加载
- [ ] 所有JavaScript文件正确加载
- [ ] 控制台无JavaScript错误
- [ ] 页面标题显示正确
- [ ] Logo和标题可见

#### 2. 导航功能
- [ ] 点击导航按钮可以切换页面
- [ ] 当前页面按钮高亮显示
- [ ] 页面切换有平滑过渡
- [ ] 切换页面后自动滚动到顶部
- [ ] 浏览器前进/后退按钮正常工作

#### 3. 用户认证
- [ ] 登录表单正常显示
- [ ] 可以输入邮箱和密码
- [ ] 登录成功跳转到主应用
- [ ] 登录失败显示错误信息
- [ ] 注册功能正常工作
- [ ] 登出功能正常工作
- [ ] Token自动刷新功能正常

---

### ✅ Page 1: AI 产品分析测试

#### 1. 产品信息输入
- [ ] 产品名称输入框正常
- [ ] 产品描述输入框正常
- [ ] 必填字段验证正常

#### 2. 图片上传功能
- [ ] **点击上传区域**可以打开文件选择对话框
- [ ] **拖拽图片**到上传区域可以上传
- [ ] 支持多图上传（最多5张）
- [ ] 图片预览正常显示
- [ ] 可以删除已选择的图片
- [ ] 文件大小限制（10MB）正常工作
- [ ] 文件类型限制（JPG/PNG）正常工作
- [ ] 超过5张图片时显示提示

#### 3. 平台选择
- [ ] 平台选择器正常显示
- [ ] 可以多选平台
- [ ] 默认全选功能正常
- [ ] 取消选择功能正常

#### 4. 语言选择
- [ ] 语言选择下拉框正常
- [ ] 可以切换语言
- [ ] 语言切换后界面更新

#### 5. AI 产品分析
- [ ] 点击"AI 產品分析"按钮
- [ ] 按钮显示加载状态
- [ ] 图片上传成功
- [ ] API调用成功
- [ ] 分析结果正常显示
- [ ] 步骤指示器更新到步骤2
- [ ] "生成多平台內容"按钮显示

#### 6. 多平台内容生成
- [ ] 点击"生成多平台內容"按钮
- [ ] 按钮显示加载状态
- [ ] API调用成功
- [ ] 内容结果正常显示
- [ ] 每个平台的内容正确显示
- [ ] 步骤指示器更新到步骤3
- [ ] "生成行銷場景"按钮显示

#### 7. 营销场景生成
- [ ] 点击"生成行銷場景"按钮
- [ ] 场景类型选择正常
- [ ] 模特设置正常
- [ ] 场景位置设置正常
- [ ] API调用成功
- [ ] 场景结果正常显示
- [ ] 场景图片正常显示（如果有）

#### 8. 步骤指示器
- [ ] 初始显示步骤1
- [ ] 分析完成后更新到步骤2
- [ ] 内容生成后更新到步骤3
- [ ] 步骤状态正确显示（pending/active/completed）

#### 9. 状态持久化
- [ ] 刷新页面后产品名称保留
- [ ] 刷新页面后分析结果保留
- [ ] 刷新页面后内容结果保留

---

### ✅ Page 2: AI 广告顾问测试

#### 1. 表单输入
- [ ] 品牌名称输入正常
- [ ] 产品名称输入正常
- [ ] 核心产品输入正常
- [ ] 目标市场输入正常

#### 2. 文件上传
- [ ] 文件上传功能正常
- [ ] 支持多文件上传（最多10个）
- [ ] 文件类型限制正常
- [ ] 文件大小限制正常

#### 3. 平台选择
- [ ] 平台复选框正常
- [ ] 可以多选平台

#### 4. 广告分析
- [ ] 点击"開始分析"按钮
- [ ] 按钮显示加载状态
- [ ] 文件上传成功
- [ ] API调用成功
- [ ] 分析结果正常显示
- [ ] 错误处理正常

#### 5. 对话功能（如果有）
- [ ] 对话界面正常显示
- [ ] 可以发送消息
- [ ] 可以上传文件
- [ ] AI回复正常显示

---

### ✅ Page 3: AI 课程编辑专家测试

#### 1. 课程参数设置
- [ ] 目标年龄选择正常
- [ ] 课程类别选择正常
- [ ] 主题输入正常
- [ ] 课程时长选择正常
- [ ] 教学风格选择正常
- [ ] 输出格式多选正常
- [ ] 语言选择正常
- [ ] AI插图选项正常

#### 2. 课程生成
- [ ] 点击"生成課程內容"按钮
- [ ] 按钮显示加载状态
- [ ] API调用成功
- [ ] 课程内容正常显示
- [ ] 预览格式正确

#### 3. 导出功能（如果有）
- [ ] Word导出功能正常
- [ ] PDF导出功能正常

---

### ✅ Page 4: AI 指令架构师测试

#### 1. 模式切换
- [ ] 商业顾问模式切换正常
- [ ] 软件开发模式切换正常
- [ ] 视觉绘图模式切换正常
- [ ] 切换模式后表单更新

#### 2. 商业顾问模式
- [ ] L1领域选择正常
- [ ] L2赛道选择正常（动态生成）
- [ ] L3角色选择正常（动态生成）
- [ ] L4模型选择正常（动态生成）
- [ ] 任务描述输入正常
- [ ] Prompt生成正常

#### 3. 软件开发模式
- [ ] 需求描述输入正常
- [ ] 参考资料上传正常
- [ ] 目标平台选择正常
- [ ] 复杂度选择正常
- [ ] PRD生成正常

#### 4. 视觉绘图模式
- [ ] 画面描述输入正常
- [ ] 图像模型选择正常
- [ ] 艺术风格选择正常
- [ ] 画面比例选择正常
- [ ] 品质标签选择正常
- [ ] 绘图指令生成正常

#### 5. 输出功能
- [ ] 复制功能正常
- [ ] 导出Word功能正常（如果有）

---

### ✅ Page 5: 管理员控制台测试

#### 1. 用户管理
- [ ] 用户列表正常显示
- [ ] 待审核用户列表正常
- [ ] 用户审核功能正常
- [ ] 用户暂停功能正常
- [ ] 用户删除功能正常
- [ ] 角色提升功能正常

#### 2. 数据库管理
- [ ] 数据表列表正常显示
- [ ] 表结构查看正常
- [ ] 数据查看正常（分页）
- [ ] 数据插入功能正常
- [ ] 数据编辑功能正常
- [ ] 数据删除功能正常
- [ ] 批量删除功能正常
- [ ] 数据导出功能正常

#### 3. 系统统计
- [ ] 用户统计正常显示
- [ ] 数据表统计正常显示
- [ ] 最近活动正常显示

---

### ✅ 通用功能测试

#### 1. 多语言支持
- [ ] 语言切换器正常显示
- [ ] 切换到繁体中文正常
- [ ] 切换到英文正常
- [ ] 切换到越南文正常
- [ ] 切换后所有文本更新

#### 2. 错误处理
- [ ] 网络错误正常处理
- [ ] API错误正常显示
- [ ] 表单验证错误正常显示
- [ ] 错误消息用户友好

#### 3. 加载状态
- [ ] 按钮加载动画正常
- [ ] 页面加载状态正常
- [ ] 进度指示器正常

#### 4. 响应式设计
- [ ] 桌面端显示正常
- [ ] 平板端显示正常
- [ ] 移动端显示正常
- [ ] 不同屏幕尺寸适配正常

---

## 🔍 详细测试步骤

### Page 1 完整测试流程

1. **准备测试数据**
   - 准备3-5张产品图片（JPG/PNG格式，每张<10MB）
   - 准备产品名称和描述

2. **测试图片上传**
   ```
   步骤1: 点击上传区域
   预期: 打开文件选择对话框
   
   步骤2: 选择2张图片
   预期: 图片预览显示，显示"已选择: 2 张图片"
   
   步骤3: 拖拽1张图片到上传区域
   预期: 图片添加到列表（总共3张）
   
   步骤4: 点击删除按钮删除1张图片
   预期: 图片从列表中移除
   
   步骤5: 尝试上传第6张图片
   预期: 显示提示"最多只能選擇5張圖片"
   ```

3. **测试产品分析**
   ```
   步骤1: 输入产品名称（必填）
   步骤2: 输入产品描述（可选）
   步骤3: 上传至少1张图片
   步骤4: 选择平台（默认全选）
   步骤5: 选择语言
   步骤6: 点击"AI 產品分析"按钮
   
   预期结果:
   - 按钮显示"分析中..."
   - 图片上传成功
   - API调用成功
   - 分析结果在右侧显示
   - 步骤指示器更新到步骤2
   - "生成多平台內容"按钮显示
   ```

4. **测试内容生成**
   ```
   步骤1: 完成产品分析
   步骤2: 点击"生成多平台內容"按钮
   
   预期结果:
   - 按钮显示"生成中..."
   - API调用成功
   - 每个平台的内容在右侧显示
   - 步骤指示器更新到步骤3
   - "生成行銷場景"按钮显示
   ```

5. **测试场景生成**
   ```
   步骤1: 完成内容生成
   步骤2: 选择场景类型
   步骤3: 设置模特和场景
   步骤4: 点击"生成行銷場景"按钮
   
   预期结果:
   - API调用成功
   - 场景结果正常显示
   - 场景图片正常显示（如果有）
   ```

### Page 2 完整测试流程

1. **测试表单输入**
   ```
   步骤1: 填写所有表单字段
   步骤2: 上传广告文件（可选）
   步骤3: 选择平台
   步骤4: 点击"開始分析"按钮
   
   预期结果:
   - 表单验证正常
   - 文件上传成功（如果有）
   - API调用成功
   - 分析结果正常显示
   ```

### Page 3 完整测试流程

1. **测试课程生成**
   ```
   步骤1: 选择目标年龄
   步骤2: 选择课程类别
   步骤3: 输入主题
   步骤4: 选择课程时长
   步骤5: 选择教学风格
   步骤6: 选择输出格式（多选）
   步骤7: 选择语言
   步骤8: 选择是否包含AI图片
   步骤9: 点击"生成課程內容"按钮
   
   预期结果:
   - 所有参数正确传递
   - API调用成功
   - 课程内容正常显示
   ```

---

## 🐛 常见问题测试

### 1. 网络错误测试
- 断开网络连接
- 尝试执行操作
- 预期: 显示友好的错误消息

### 2. API错误测试
- 使用无效的API端点
- 预期: 显示错误消息，不崩溃

### 3. 表单验证测试
- 提交空表单
- 预期: 显示验证错误

### 4. 文件上传错误测试
- 上传超大文件
- 预期: 显示文件大小限制错误

- 上传不支持的文件类型
- 预期: 显示文件类型错误

### 5. 状态持久化测试
- 填写表单
- 刷新页面
- 预期: 表单数据保留（如果实现了）

---

## 📊 性能测试

### 1. 页面加载时间
- [ ] 首页加载时间 < 2秒
- [ ] 页面切换时间 < 300ms
- [ ] 图片加载时间合理

### 2. API响应时间
- [ ] 产品分析API响应时间 < 30秒
- [ ] 内容生成API响应时间 < 30秒
- [ ] 场景生成API响应时间 < 60秒

### 3. 内存使用
- [ ] 长时间使用无内存泄漏
- [ ] 图片预览不占用过多内存

---

## 🔧 自动化测试建议

### 1. 单元测试
```javascript
// 测试 StateManager
describe('StateManager', () => {
  test('should set and get state', () => {
    StateManager.setState('test', 'value');
    expect(StateManager.getState('test')).toBe('value');
  });
});

// 测试 Router
describe('Router', () => {
  test('should navigate to page', () => {
    Router.navigateTo('page2');
    expect(Router.getCurrentPage()).toBe('page2');
  });
});
```

### 2. 集成测试
```javascript
// 测试 Page1 完整流程
describe('Page1 Integration', () => {
  test('should complete full workflow', async () => {
    // 1. 输入产品信息
    // 2. 上传图片
    // 3. 执行分析
    // 4. 生成内容
    // 5. 生成场景
  });
});
```

### 3. E2E测试（使用Playwright或Cypress）
```javascript
test('Page1 complete workflow', async ({ page }) => {
  await page.goto('/');
  await page.fill('#productName', 'Test Product');
  await page.setInputFiles('#imageUpload', 'test-image.jpg');
  await page.click('#analyzeProductBtn');
  await page.waitForSelector('.analysis-result');
  // ... 继续测试
});
```

---

## 📝 测试报告模板

### 测试执行记录

**测试日期**: _______________
**测试人员**: _______________
**测试环境**: _______________

#### 测试结果

| 功能模块 | 测试项 | 状态 | 备注 |
|---------|--------|------|------|
| Page 1 | 图片上传 | ✅/❌ | |
| Page 1 | 产品分析 | ✅/❌ | |
| Page 1 | 内容生成 | ✅/❌ | |
| Page 1 | 场景生成 | ✅/❌ | |
| Page 2 | 广告分析 | ✅/❌ | |
| Page 3 | 课程生成 | ✅/❌ | |
| Page 4 | Prompt生成 | ✅/❌ | |
| Page 5 | 管理员功能 | ✅/❌ | |
| 通用 | 导航 | ✅/❌ | |
| 通用 | 认证 | ✅/❌ | |
| 通用 | 多语言 | ✅/❌ | |

#### 发现的问题

1. **问题描述**: 
   - **严重程度**: 高/中/低
   - **复现步骤**: 
   - **预期行为**: 
   - **实际行为**: 

#### 性能指标

- 页面加载时间: ______秒
- API平均响应时间: ______秒
- 内存使用: ______MB

---

## ✅ 测试完成标准

所有测试项通过后，软件可以发布：

- [ ] 所有核心功能正常
- [ ] 所有页面可以正常访问
- [ ] 所有API调用成功
- [ ] 错误处理正常
- [ ] 性能指标达标
- [ ] 无严重bug
- [ ] 浏览器兼容性测试通过

---

**最后更新**: 2024年12月
